<!DOCTYPE html><html lang="zh-CN" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>一类带负圈的最小费用流 | 天命之路 的博客</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy","copyFinish":"copied","expand":"expand"}}</script><script src="/js/gitalk.js"></script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.1/MathJax.js"></script><script>MathJax.Hub.Config({
 menuSettings: {
   zoom: "None"
 },
 showMathMenu: false,
 jax: ["input/TeX","output/CommonHTML"],
 extensions: ["tex2jax.js"],
 TeX: {
   extensions: ["AMSmath.js","AMSsymbols.js"],
   equationNumbers: {
     autoNumber: "AMS"
   }
 },
 tex2jax: {
   inlineMath: [["\\(", "\\)"]],
   displayMath: [["\\[", "\\]"]]
 }
});</script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
  --light-background: url('/img/bk.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>一类带负圈的最小费用流</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2023-05-02T06:20:14.290Z" id="date"> 2023-05-02</time></div></span><br><span>Last Update: <div class="control"><time datetime="2023-04-23T09:46:12.240Z" id="updated"> 2023-04-23</time></div></span></div></div><hr><div id="post-content"><p>之前复习网络流的时候好像没有复习扎实，把这玩意漏掉了。</p>
<p>事实证明，“就看看而不写代码”确实挺容易忘的。</p>
<span id="more"></span>

<p><strong>注意：下文所讨论的流都允许一个与 $S,T$ 不相连的环出现。</strong></p>
<p>下文的四元组 $(u,v,w,c)$ 表示一条从 $u$ 到 $v$，流量为 $w$，费用为 $c$ 的边。</p>
<p>一般不带负圈的最小费用流，大家使用自己喜欢的方式就跑过去了。</p>
<p>但是带负圈的最小费用流，会给最短路算法带来极大的困难，导致增广出现问题。</p>
<p>我们就需要一个办法，把图里的负权边都去掉。</p>
<p>注意到我们在建网络流图的时候，会对称地建一条反着的边，费用为原边权的相反数，表示退流。</p>
<p>那么我们在这里，能不能先把负权边都流满，然后借助反向的正权边来完成”退流“工作呢？</p>
<p>显然是可以的。</p>
<p>对于一条负权边 $(u,v,w,c)$ ，我们先把该边流满，将答案预先加上 $w \times c$，然后建出反向边 $(v,u,w,-c)$，用以退流。</p>
<p>但这种做法还有一个问题，即所有负权边满流的网络，不一定满足流量平衡的限制。</p>
<p>设原图源汇为 $S,T$，我们新建虚拟源点、虚拟汇点 $S’,T’$，用 $S’,T’$ 跑遍网络流，来满足流量平衡的限制。</p>
<p>具体地，假设我们处理了一条负权边 $(u,v,w,c)$，那么 $u$ 点就应该多流入 $w$ 的流量，$v$ 点应该多流出 $w$ 的流量，我们通过连边 $(u,T’,w,0),(S’,v,w,0)$ 来表达这两个限制，因为最后基于 $S’,T’$ 跑出来的网络流是流量平衡的，我们把这里连的虚拟边删掉，就正好满足 $u$ 点多流入 $w$，$v$ 点多流出 $w$。</p>
<p>所以，对于一条负权边，我们会将其拆为三条边 $(u,v,w,c),(S’,v,w,0),(u,T’,w,0)$。然后我们先以 $S’$ 为源点，$T’$ 为汇点，跑一遍网络流。在残量网络上，忽略与 $S’$ 和 $T’$ 相邻的边，再以 $S$ 和 $T$ 为源汇，跑一遍网络流，将两遍网络流得到的答案相加即可。</p>
<p>需要注意的是，就算原图中没有源汇，这个方法也是可行的，此时这个问题被叫做最小费用循环流（或者说最小费用可行流）。</p>
<p>此时，在原问题中，我们一次会增广一个环，假设这个环除了某条负权边 $(u,v,w,c)$ 外，剩下的边费用为 $p$。</p>
<p>如果 $c + p &lt; 0$，那么这个负环需要增广，在新图上，有 $p  &lt; -c$ 那么我们会倾向与走剩下的那条路径，也就是不退流。反之，因为是正环，所以我们会倾向于不增广，在新图上就是走这条 $(v,u,w,-c)$ ，把流退掉。</p>
<p>这样可以从另一个方面理解其正确性。</p>
<p>需要注意的是，在求解循环流的时候，需要注意原题面有没有限制流量上界。有的话，在通过 $S’,T’$ 增广时就要加以限制。</p>
<p>事实上，如果读者对上下界网络流较为熟悉，应该能看出来，这就是对上下界网络流的一种应用。</p>
<p>附上模板题代码：</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P7173">洛谷 P7173</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e2</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-type">long</span> <span class="hljs-type">long</span> ll;<br><span class="hljs-type">const</span> ll llinf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-type">int</span> n,m,S,T;<br><span class="hljs-type">int</span> num[N];<br><span class="hljs-keyword">namespace</span> Flow&#123;<br>	<span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e3</span> + <span class="hljs-number">5</span>,M = <span class="hljs-number">2e6</span> + <span class="hljs-number">5</span>;<br>	<span class="hljs-type">int</span> fir[N],nxt[M],to[M],w[M],cost[M],ect = <span class="hljs-number">1</span>;<br>	<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-type">int</span> u1,<span class="hljs-type">int</span> v1,<span class="hljs-type">int</span> w1,<span class="hljs-type">int</span> c1)</span></span><br><span class="hljs-function">	 </span>&#123; nxt[++ect] = fir[u1];fir[u1] = ect;to[ect] = v1;w[ect] = w1;cost[ect] = c1;&#125;<br>	<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">ins</span><span class="hljs-params">(<span class="hljs-type">int</span> u1,<span class="hljs-type">int</span> v1,<span class="hljs-type">int</span> w1,<span class="hljs-type">int</span> c1)</span> </span>&#123; <span class="hljs-built_in">addedge</span>(u1,v1,w1,c1);<span class="hljs-built_in">addedge</span>(v1,u1,<span class="hljs-number">0</span>,-c1);&#125;<br>	ll dis[N],h[N];<br>	<span class="hljs-type">bool</span> vst[N];<br>	<span class="hljs-type">int</span> tot;<br>	<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Clr</span><span class="hljs-params">(<span class="hljs-type">int</span> _n)</span></span><br><span class="hljs-function">	</span>&#123;<br>		tot = _n;ect = <span class="hljs-number">1</span>;<br>		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= tot;i++) fir[i] = <span class="hljs-number">0</span>;<br>	&#125;<br>	<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-type">int</span> S,<span class="hljs-type">int</span> T)</span></span><br><span class="hljs-function">	</span>&#123;<br>		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= tot;i++) dis[i] = llinf,vst[i] = <span class="hljs-number">0</span>;<br>		queue&lt;<span class="hljs-type">int</span>&gt; Q;<br>		Q.<span class="hljs-built_in">push</span>(S);dis[S] = <span class="hljs-number">0</span>;vst[S] = <span class="hljs-number">1</span>;<br>		<span class="hljs-keyword">while</span>(!Q.<span class="hljs-built_in">empty</span>())<br>		&#123;<br>			<span class="hljs-type">int</span> x = Q.<span class="hljs-built_in">front</span>();Q.<span class="hljs-built_in">pop</span>();vst[x] = <span class="hljs-number">0</span>;<br>			<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = fir[x],y;y = to[i],i;i = nxt[i])<br>				<span class="hljs-keyword">if</span>(w[i] &amp;&amp; dis[y] &gt; dis[x] + cost[i])<br>				&#123;<br>					dis[y] = dis[x] + cost[i];<br>					<span class="hljs-keyword">if</span>(!vst[y]) Q.<span class="hljs-built_in">push</span>(y),vst[y] = <span class="hljs-literal">true</span>;<br>				&#125; <br>		&#125;<br>		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= tot;i++) h[i] = dis[i];<br>	&#125;<br>	<span class="hljs-type">int</span> pn[N],pe[N],flow[N];<br>	<span class="hljs-keyword">struct</span> <span class="hljs-title class_">node</span>&#123;<br>		<span class="hljs-type">int</span> id;ll dis;<br>		<span class="hljs-built_in">node</span>()&#123;&#125;<br>		<span class="hljs-built_in">node</span>(<span class="hljs-type">const</span> <span class="hljs-type">int</span> _id,<span class="hljs-type">const</span> ll _dis):<span class="hljs-built_in">id</span>(_id),<span class="hljs-built_in">dis</span>(_dis)&#123;&#125;<br>		<span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-type">const</span> node &amp;rhs) <span class="hljs-type">const</span> &#123; <span class="hljs-keyword">return</span> dis &gt; rhs.dis;&#125;<br>	&#125;;<br>	<span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">Dijkstra</span><span class="hljs-params">(<span class="hljs-type">int</span> S,<span class="hljs-type">int</span> T,<span class="hljs-type">int</span> F = <span class="hljs-number">1e9</span>)</span></span><br><span class="hljs-function">	</span>&#123;<br>		<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= tot;i++)<br>			pe[i] = pn[i] = vst[i] = <span class="hljs-number">0</span>,dis[i] = llinf;<br>		priority_queue&lt;node&gt; Q;<br>		flow[S] = F;Q.<span class="hljs-built_in">emplace</span>(S,dis[S] = <span class="hljs-number">0</span>);<br>		<span class="hljs-keyword">while</span>(!Q.<span class="hljs-built_in">empty</span>())<br>		&#123;<br>			<span class="hljs-type">int</span> x = Q.<span class="hljs-built_in">top</span>().id;Q.<span class="hljs-built_in">pop</span>();<br>			<span class="hljs-keyword">if</span>(vst[x]) <span class="hljs-keyword">continue</span>;<br>			vst[x] = <span class="hljs-literal">true</span>;<br>			<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = fir[x],y,ww;y = to[i],ww = cost[i] + h[x] - h[y],i;i = nxt[i])<br>				<span class="hljs-keyword">if</span>(w[i] &amp;&amp; dis[y] &gt; dis[x] + ww)<br>				&#123;<br>					dis[y] = dis[x] + ww;<br>					pn[y] = x;pe[y] = i;flow[y] = <span class="hljs-built_in">min</span>(flow[x],w[i]);<br>					Q.<span class="hljs-built_in">emplace</span>(y,dis[y]);<br>				&#125;<br>		&#125;<br>		<span class="hljs-keyword">return</span> dis[T] &lt; llinf;<br>	&#125;<br>	<span class="hljs-function">pair&lt;ll,ll&gt; <span class="hljs-title">MCMF</span><span class="hljs-params">(<span class="hljs-type">int</span> S,<span class="hljs-type">int</span> T)</span></span><br><span class="hljs-function">	</span>&#123;<br>		ll F = <span class="hljs-number">0</span>,res = <span class="hljs-number">0</span>;<br>		<span class="hljs-built_in">spfa</span>(S,T);<br>		<span class="hljs-keyword">while</span>(<span class="hljs-built_in">Dijkstra</span>(S,T))<br>		&#123;<br>			<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= tot;i++) <span class="hljs-keyword">if</span>(vst[i]) h[i] += dis[i];<br>			<span class="hljs-type">int</span> now = T;<br>			res += flow[T] * h[T];<br>			<span class="hljs-keyword">while</span>(now != S)<br>				w[pe[now]] -= flow[T],w[pe[now] ^ <span class="hljs-number">1</span>] += flow[T],now = pn[now];<br>			F += flow[T];<br>		&#125;<br>		<span class="hljs-keyword">return</span> <span class="hljs-built_in">make_pair</span>(F,res);<br>	&#125;<br>&#125;<br>ll ans = <span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	cin &gt;&gt; n &gt;&gt; m &gt;&gt; S &gt;&gt; T;<br>	Flow::<span class="hljs-built_in">Clr</span>(n + <span class="hljs-number">2</span>);<br>	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= m;i++)<br>	&#123;<br>		<span class="hljs-type">int</span> x,y,f,c;<br>		cin &gt;&gt; x &gt;&gt; y &gt;&gt; f &gt;&gt; c;<br>		<span class="hljs-keyword">if</span>(c &gt;= <span class="hljs-number">0</span>)<br>			Flow::<span class="hljs-built_in">ins</span>(x,y,f,c);<br>		<span class="hljs-keyword">else</span><br>		&#123;<br>			num[x] -= f;num[y] += f;<br>			Flow::<span class="hljs-built_in">ins</span>(y,x,f,-c);<br>			ans += <span class="hljs-number">1ll</span> * c * f;<br>		&#125;<br>	&#125;<br>	<span class="hljs-type">int</span> SS = n + <span class="hljs-number">1</span>,TT = n + <span class="hljs-number">2</span>;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++)<br>	&#123;<br>		<span class="hljs-keyword">if</span>(num[i] &gt; <span class="hljs-number">0</span>) Flow::<span class="hljs-built_in">ins</span>(SS,i,num[i],<span class="hljs-number">0</span>);<br>		<span class="hljs-keyword">if</span>(num[i] &lt; <span class="hljs-number">0</span>) Flow::<span class="hljs-built_in">ins</span>(i,TT,-num[i],<span class="hljs-number">0</span>);<br>	&#125;<br>	ans += Flow::<span class="hljs-built_in">MCMF</span>(SS,TT).second;<br>	pair&lt;ll,ll&gt; res = Flow::<span class="hljs-built_in">MCMF</span>(S,T);<br>	cout &lt;&lt; res.first &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; res.second + ans &lt;&lt; endl;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/posts/1354329816/">← Next AGC038E 题解</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/posts/3953954419/">CF1575C 题解 Prev →</a></div></div></div><div id="comments"><div class="selector"><button class="gitalk-sel"></button></div><div id="gitalk"></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">∧</a><a id="to-index" href="#toc-div" title="To Catalog">≡</a><a id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">Dualqwq</a></h1><div id="description"><p></p></div></div><div id="aside-block"></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {gitalk = new Gitalk({
 clientID: 'f3bca61c9bfc22f7350d',
 clientSecret: '313761dc715a2bba0f47651123ee2bb0952966a7',
 repo: 'Dualqwq.github.io',
 owner: 'Dualqwq',
 admin: ['Dualqwq'],
 distractionFreeMode: false,
 id: location.pathname
});
if (document.querySelector("#gitalk")) gitalk.render("gitalk");code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>